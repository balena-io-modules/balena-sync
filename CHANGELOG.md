# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 11.0.2 - 2020-08-04

* Add .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]

## 11.0.1 - 2020-08-04


<details>
<summary> Update balena-sdk to 15.x [Pagan Gazzard] </summary>

> ### balena-sdk-15.2.1 - 2020-08-03
> 
> * Convert majority to async/await [Pagan Gazzard]
> 
> ### balena-sdk-15.2.0 - 2020-07-31
> 
> * device: add method to update target supervisor release [Matthew McGinn]
> 
> ### balena-sdk-15.1.1 - 2020-07-27
> 
> * Deduplicate device update methods [Pagan Gazzard]
> 
> ### balena-sdk-15.1.0 - 2020-07-27
> 
> 
> <details>
> <summary> Update balena-pine to add support for and make use of named keys [Pagan Gazzard] </summary>
> 
>> #### balena-pine-12.2.0 - 2020-07-22
>> 
>> 
>> <details>
>> <summary> Update pinejs-client-core [Pagan Gazzard] </summary>
>> 
>>> ##### pinejs-client-js-6.1.0 - 2020-07-21
>>> 
>>> * Add support for using named ids [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### balena-request-11.1.0 - 2020-07-16
>> 
>> * Add lazy loading for most modules [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### balena-sdk-15.0.3 - 2020-07-27
> 
> * typings: Fix the PineWithSelect & related type helpers [Thodoris Greasidis]
> * typings: Use the native TypeScript Omit type helper [Thodoris Greasidis]
> 
> ### balena-sdk-15.0.2 - 2020-07-22
> 
> * Fix code snippet for initializing balena-sdk [Vipul Gupta (@vipulgupta2048)]
> 
> ### balena-sdk-15.0.1 - 2020-07-15
> 
> * Fix SupportTier/includes__SLA typing [Pagan Gazzard]
> 
> ### balena-sdk-15.0.0 - 2020-07-15
> 
> * **BREAKING** Export setSharedOptions & fromSharedOptions separately [Thodoris Greasidis]
> * **BREAKING** Export as an ES6 module [Thodoris Greasidis]
> 
> <details>
> <summary> Update dependencies and switch all returned promises to native promises [Pagan Gazzard] </summary>
> 
>> #### balena-auth-4.0.2 - 2020-07-13
>> 
>> * Add .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]
>> 
>> #### balena-auth-4.0.1 - 2020-07-03
>> 
>> * Explicitly add tslib dependency [Pagan Gazzard]
>> 
>> #### balena-auth-4.0.0 - 2020-07-02
>> 
>> * Update to balena-settings-storage 6.x [Pagan Gazzard]
>> * Update target to es2015 [Pagan Gazzard]
>> * Switch to native promises [Pagan Gazzard]
>> * Enable strict type checking [Pagan Gazzard]
>> * Specify node 10+ [Pagan Gazzard]
>> 
>> #### balena-auth-3.1.1 - 2020-07-02
>> 
>> * Switch to @balena/lint for linting [Pagan Gazzard]
>> 
>> #### balena-pine-12.1.1 - 2020-07-13
>> 
>> * Add .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]
>> 
>> #### balena-pine-12.1.0 - 2020-07-06
>> 
>> * Update balena-auth to 4.x and balena-request to 11.x [Pagan Gazzard]
>> 
>> #### balena-pine-12.0.1 - 2020-07-03
>> 
>> * Use typescript import helpers [Pagan Gazzard]
>> 
>> #### balena-pine-12.0.0 - 2020-06-26
>> 
>> * Stop actively supporting node 8 [Thodoris Greasidis]
>> * Convert to async await [Thodoris Greasidis]
>> * Add balenaCI repo.yml [Thodoris Greasidis]
>> * karma.conf.js: Combine declaration & assignment of karmaConfig [Thodoris Greasidis]
>> * Bump @balena/lint to v5 [Thodoris Greasidis]
>> * Drop getPine() in favor of an es6 export of the BalenaPine class [Thodoris Greasidis]
>> * Drop the API_PREFIX property in favor of the apiPrefix [Thodoris Greasidis]
>> * Bump to pinejs-client v6 which requires es2015 & drops Bluebird promises [Thodoris Greasidis]
>> 
>> #### balena-pine-11.2.1 - 2020-06-15
>> 
>> * Convert karma.conf to js [Thodoris Greasidis]
>> * Bump balena-config-karma to v3 [Thodoris Greasidis]
>> 
>> #### balena-register-device-7.1.0 - 2020-07-13
>> 
>> * Switch from randomstring to uuid for generating device uuids [Pagan Gazzard]
>> 
>> #### balena-register-device-7.0.1 - 2020-07-13
>> 
>> * Add .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]
>> 
>> #### balena-register-device-7.0.0 - 2020-07-06
>> 
>> * Convert to type checked javascript [Pagan Gazzard]
>> * Drop callback interface in favor of promise interface [Pagan Gazzard]
>> * Switch to a named export [Pagan Gazzard]
>> * Convert to typescript [Pagan Gazzard]
>> * Update to typed-error 3.x [Pagan Gazzard]
>> * Switch to returning native promises [Pagan Gazzard]
>> * Update to balena-request 11.x [Pagan Gazzard]
>> * Use typescript import helpers [Pagan Gazzard]
>> 
>> #### balena-register-device-6.1.6 - 2020-05-26
>> 
>> * Export ApiError [Cameron Diver]
>> 
>> #### balena-register-device-6.1.5 - 2020-05-21
>> 
>> * Convert tests to js [Thodoris Greasidis]
>> 
>> #### balena-register-device-6.1.4 - 2020-05-21
>> 
>> * Install typed-error v2 [Cameron Diver]
>> 
>> #### balena-register-device-6.1.3 - 2020-05-20
>> 
>> * Extend API exception to include full response object [Miguel Casqueira]
>> 
>> #### balena-register-device-6.1.2 - 2020-05-20
>> 
>> * Update mocha to fix node v12 deprecation warning [Thodoris Greasidis]
>> 
>> #### balena-request-11.0.4 - 2020-07-14
>> 
>> * Fix body overwriting on nodejs [Pagan Gazzard]
>> 
>> #### balena-request-11.0.3 - 2020-07-13
>> 
>> * Add .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]
>> 
>> #### balena-request-11.0.2 - 2020-07-06
>> 
>> * Fix tslib dependency [Pagan Gazzard]
>> 
>> #### balena-request-11.0.1 - 2020-07-03
>> 
>> * Fix passing baseUrl to refreshToken if the request uses an absolute url [Pagan Gazzard]
>> 
>> #### balena-request-11.0.0 - 2020-07-03
>> 
>> * Convert to type checked javascript [Pagan Gazzard]
>> * Switch to returning native promises [Pagan Gazzard]
>> * Drop support for nodejs < 10 [Pagan Gazzard]
>> * Update balena-auth to 4.x [Pagan Gazzard]
>> * Remove rindle dependency [Pagan Gazzard]
>> * Update fetch-ponyfill to 6.x [Pagan Gazzard]
>> * Remove proxy tests as global-tunnel-ng only supports nodejs < 10.16.0 [Pagan Gazzard]
>> * Switch to a named export [Pagan Gazzard]
>> * Use typescript import helpers [Pagan Gazzard]
>> * Bump balena-config-karma & convert karma.conf.coffee to js [Thodoris Greasidis]
>> * Change the browser request timeout error to be consistent with node [Thodoris Greasidis]
>> 
> </details>
> 
> * **BREAKING** billing: Make the organization parameter fist & required [Thodoris Greasidis]
> 
> ### balena-sdk-14.8.0 - 2020-07-15
> 
> * DeviceWithServiceDetails: preserve the image_install & gateway_downloads [Thodoris Greasidis]
> * typings: Deprecate DeviceWithImageInstalls in favor of the Device type [Thodoris Greasidis]
> 
> ### balena-sdk-14.7.1 - 2020-07-14
> 
> * Fix is_private typings for device type [Stevche Radevski]
> 
> ### balena-sdk-14.7.0 - 2020-07-14
> 
> * Add an organization parameter to all billing methods [Thodoris Greasidis]
> 
> ### balena-sdk-14.6.0 - 2020-07-13
> 
> * typings: Add ApplicationHostedOnApplication [Thodoris Greasidis]
> * typings Add RecoveryTwoFactor [Thodoris Greasidis]
> 
> ### balena-sdk-14.5.1 - 2020-07-10
> 
> * Tests: remove bluebird usage [Pagan Gazzard]
> 
> ### balena-sdk-14.5.0 - 2020-07-09
> 
> * tests/integration/setup: Convert to TypeScript [Thodoris Greasidis]
> * typings/ImageInstall: Deprecate the image field [Thodoris Greasidis]
> * typings/ImageInstall: Add the `installs__image` field [Thodoris Greasidis]
> * typings: Add typings for the ReleaseImage [Thodoris Greasidis]
> * typings/ImageInstall: Add the missing device property [Thodoris Greasidis]
> * Convert all remaining tests away from coffeescript [Pagan Gazzard]
> 
> ### balena-sdk-14.4.2 - 2020-07-09
> 
> * Tests: improve typing for access to private SDK os methods [Pagan Gazzard]
> * Tests: improve typing of tag helpers [Pagan Gazzard]
> * Tests: import BalenaSDK types directly [Pagan Gazzard]
> 
> ### balena-sdk-14.4.1 - 2020-07-08
> 
> * Tests: merge multiple application deletions into a single call [Pagan Gazzard]
> 
> ### balena-sdk-14.4.0 - 2020-07-08
> 
> * Improve typings for `sdk.pine.post` [Pagan Gazzard]
> * Improve typings for `sdk.request` [Pagan Gazzard]
> * Improve typings for `models.device.getOsVersion` [Pagan Gazzard]
> * Improve typings for `models.device.lastOnline` [Pagan Gazzard]
> * Fix typings for `models.device.getMACAddresses` [Pagan Gazzard]
> * Fix typings for `models.device.getLocalIPAddresses` [Pagan Gazzard]
> * Add typings for `models.application.getDashboardUrl` [Pagan Gazzard]
> * Device model: last_connectivity_event and os_version can be null [Pagan Gazzard]
> * Improve typings for `models.device.getLocalModeSupport` [Pagan Gazzard]
> 
> ### balena-sdk-14.3.3 - 2020-07-07
> 
> * Minimize bluebird sugar usage [Pagan Gazzard]
> 
> ### balena-sdk-14.3.2 - 2020-07-07
> 
> * Add type checking for tests [Pagan Gazzard]
> 
> ### balena-sdk-14.3.1 - 2020-07-07
> 
> * Tests: cache device type lookup [Pagan Gazzard]
> 
> ### balena-sdk-14.3.0 - 2020-07-07
> 
> * typings: Export pine variant w/ a mandatory $select on get requests [Thodoris Greasidis]
> 
> ### balena-sdk-14.2.9 - 2020-07-07
> 
> * Remove `this.skip` usage as a faster workaround to afterEach skipping [Pagan Gazzard]
> 
> ### balena-sdk-14.2.8 - 2020-07-06
> 
> * Improve internal typings by avoiding some `any` cases [Pagan Gazzard]
> 
> ### balena-sdk-14.2.7 - 2020-07-06
> 
> * Include typings for all lazy loaded requires [Pagan Gazzard]
> 
> ### balena-sdk-14.2.6 - 2020-07-06
> 
> * Simplify balena-request custom typings [Pagan Gazzard]
> * Use import type for declaration imports [Pagan Gazzard]
> * Simplify balena-pine custom typings [Pagan Gazzard]
> * Import balena-sdk type declarations via import type and not direct path [Pagan Gazzard]
> 
> ### balena-sdk-14.2.5 - 2020-07-06
> 
> * Use typescript import helpers [Pagan Gazzard]
> 
> ### balena-sdk-14.2.4 - 2020-07-03
> 
> * Drop dtslint in favor of plain @ts-expect-error [Thodoris Greasidis]
> * Enable strict checks for the typing tests [Thodoris Greasidis]
> 
> ### balena-sdk-14.2.3 - 2020-07-03
> 
> * Standardize bluebird naming as `Bluebird` [Pagan Gazzard]
> 
> ### balena-sdk-14.2.2 - 2020-07-03
> 
> * Avoid $ExpectType b/c of issues with TS 3.9.6 [Thodoris Greasidis]
> 
> ### balena-sdk-14.2.1 - 2020-07-01
> 
> * model: Add build_environment_variable [Rich Bayliss]
> 
> ### balena-sdk-14.2.0 - 2020-07-01
> 
> * Add typings for plans & subscriptions [Thodoris Greasidis]
> 
</details>

# v11.0.0
## (2020-06-30)

* Update to balena-sdk 14.x [Pagan Gazzard]

## 10.2.0 - 2020-03-04

* Update docker-toolbelt to 3.x [Pagan Gazzard]
* Update dependencies [Pagan Gazzard]

## 10.1.0 - 2020-01-24

* Update dependencies [Pagan Gazzard]

## 10.0.3 - 2019-04-02

* Mark sync command non-primary in balena CLI help [Paulo Castro]

## 10.0.2 - 2019-01-12

* Update to resin-cli-form 2.x [Pagan Gazzard]

## 10.0.1 - 2019-01-11

* Lazy-load exports from the entry point to speed up startup [Pagan Gazzard]

## v10.0.0 - 2018-10-29

* Rename everything 'resin' to 'balena' [Tim Perry]

## v9.3.8 - 2018-10-23

* Update resin-semver to support balenaOS version strings [Paulo Castro]

## v9.3.7 - 2018-10-18

* Clarify Dockerfile.template warning message [Scott Lowe]

## v9.3.6 - 2018-09-18

* Dependencies: Update resin-semver version to support Balena OS [Lucian Buzzo]

## v9.3.5 - 2018-05-28

* Update SDK to add support for API keys #150 [Tim Perry]

## v9.3.4 - 2018-04-03

* Remove every last mention of rdt #149 [Tim Perry]

## v9.3.3 - 2018-03-26

* Fix https://github.com/resin-io/resin-cli/issues/824 by ensuring local push source is absolute #148 [Tim Perry]

## v9.3.2 - 2018-02-06

* Log when local build really starts, to better explain the build process #147 [Tim Perry]

## v9.3.1 - 2018-01-18

* Provide a helpful warning when local pushing a template file. #146 [Tim Perry]

## v9.3.0 - 2017-12-11

* Add support for Balena by detecting the engine in local sync and using the correct pid file #145 [Pablo Carranza Velez]

## v9.2.4 - 2017-11-20

* Use 'local-app' as a default local push app name, rather than prompting for one #143 [Tim Perry]

## v9.2.3 - 2017-09-22

* Fix resin local push on Windows #142 [Tim Perry]

## v9.2.2 - 2017-09-22

* Autodeploy tagged changes to npm #141 [Tim Perry]

## v9.2.1 - 2017-09-20

* Use resin-semver for safe standardized handling of OS versions #137 [Lucian Buzzo]

## v9.2.0 - 2017-09-15

* Use all existing images on the device for caching during push builds #140 [Tim Perry]

# v9.1.0 - 2017-08-11

* Make Docker version comparison accept Docker's new non-semver versioning (e.g 17.03.0)
* Add support for overlay2 in local push

# 9.0.0

* **Breaking!** Drop support for node < 6
* Fixed compatibility with docker >= 1.12: container start no longer accepts the
HostConfig options that should instead be passed in the container create request

# 8.0.1

* Fix "'cwd' must be a string" error in Node 8

# 8.0.0

* Do not explicitly disable ControlMaster SSH option
* Permit resin sync to collaborators

# 7.0.3

* Upgrade resin-sdk

# 7.0.2

* Fix short uuid bug in resin sync

# 7.0.1

* Fix logs when enabling initsystem

# 7.0.0

* Use experimental `resin-discoverable-services` with support for multiple interfaces listening.

# 6.2.3

* Get correct docker pid during local push/sync

# 6.2.2

* Revert experimental `resin-discoverable-services`

# 6.2.1

* Use experimental `resin-discoverable-services` with support for multiple interfaces listening.
* Filter out devices with unavailable docker socket.

# 6.2.0

* Export docker utils

# 6.1.4

* rdt: revert add `'/run/dbus:/host_run/dbus'` as a default bind-mount

# 6.1.3

* rdt: add `'/run/dbus:/host_run/dbus'` as a default bind-mount

# 6.1.2

* rdt: fix documentation

# 6.1.1

* resin sync: fix container status typo on resin sync error

# 6.1.0

* Support resin sync on AUFS devices
* Add a --skip-restart flag to prevent container restart after sync

# 6.0.1

* Export 'discover' utils

# 6.0.0

* Chore: code refactor
* rdt: push: support enviornment variable setting

# 5.3.3

* rdt: push: improve log streaming

# 5.3.2

* rdt: push: improve build log output
* rdt: fix container create/start configuration
* rdt: rename ResinOS -> resinOS
* rdt: use 'SpinnerPromise' from resin-cli-visuals module
* rdt: refactor: improve avahi service enumeration method

# 5.3.1

* rdt: create containers with 'host' network configuration

# 5.3.0

* rdt: use "rdt" CLI name in help and other messages
* rdt: validate app name
* rdt: add log streaming option flag and info message when enabled

# 5.2.1

* rdt: fix log streaming after sync

# 5.2.0

* rdt: remove connman bind mount
* rdt: implement inspectImage()
* rdt: preserve docker cache by removing previous image after build
* rdt: rename --force to --force-build
* rdt: support rsync update for local ResinOS AUFS devices
* rdt: stream stdout/stderr after rtd push

# 5.1.1

* rdt: Fix previous container removal during push

# 5.1.0

* rdt: Support avahi autodiscovery and export device select form for use from
  other modules
* rdt: Remove /etc/resolv.conf from bind mount list

# 5.0.0

* rdt: Save 'local-resinos' field in .resin-sync.yml
* rdt: Run containers with options similar to Resin.io devices
* rdt: Sync a folder between the dev machine and a running container on a remote device
* rdt: Do docker builds on remote device

# 4.1.0

* Add resin-toolbox sync structure
* Major refactorins to share as much functionality as possible between sync
  frontends

# 4.0.0

* [Breaking] - changed external API - `.capitano()` and `.sync()` are now
  the exported methods of the resin sync module. `resin-cli` capitano command
  is also integrated in the module.

# v3.1.7

* Unpublished resin-sync@3.1.6 from npm due to error during publishing module and republished as v3.1.7

# v3.1.6

## Changes

* Convert older, compatible versions of resin-sync.yml to .resin-sync.yml if the latter is not found in the project directory

# v3.1.5

## Changes

* Permit resin sync to device owners only and fail with descriptive message otherwise

# v3.1.4

## Fixes

* Install missing resin-cli-form dependency
* Lock node-rsync version to 0.4.0
* Fix space escape bug in .gitignore
* Add more thorough special character escaping tests

# v3.1.3

## Changes

* Pick (instead of omitting) sync options that will be saved in .resin-syc.yml

# v3.1.2

## Fixes

* Save full uuids in `.resin-sync.yml` to avoid conflicts when selecting
  default device in interactive choose dialog

# v3.1.1

## Fixes

* Fix order of app container start status messages

# v3.1.0

## New features

* Add '--after' option to run commands on local machine after resin sync

# v3.0.1

* Fix interactive destination choose dialog

# v3.0.0

## New features
  * **Parse .gitignore** for file inclusions/exclusions from resin sync by default (don't parse with `--skip-gitignore`)
  * **Automatically save options** to `${source}/.resin-sync.yml` after every run
  * Support **user-specified destination directories** with `--destination/-d` option

## Changes
  * `resin sync` **`--source/-s`** option is mandatory if a `.resin-sync.yml` file is not found in the current directory
  * `resin sync` now only accepts `uuid` as a destination (`appName` has been deprecated)

## Improvements
  * Major code refactoring - improved readability/maintainability
  * Improve error reporting

## Fixes
  * Disable ControlMaster ssh option (as reported in support)

# v2.2.0

* Code refactor, clean up unsused variables
* Support verbose flag for rsync and its ssh remote shell command

# v2.1.1

* HostOS version check before attempting rsync

# v2.1.0

* Support windows

# v2.0.0

* Support 'rsync' using the ssh gateway
